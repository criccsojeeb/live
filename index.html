<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CriccSojeeb Live</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3.7.8/dist/plyr.css">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/plyr@3.7.8/dist/plyr.js"></script>

<style>
body{
  margin:0;
  background:#050b18;
  font-family:Arial, sans-serif;
  color:#fff;
}
.header{
  background:#0a1f44;
  padding:14px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
}
.player-box{margin:10px}
.tg-box{
  margin:15px;
  padding:15px;
  border-radius:14px;
  background:linear-gradient(135deg,#0a1f44,#020617);
  text-align:center;
}
.tg-box a{
  display:block;
  margin:10px 0;
  padding:13px;
  border-radius:10px;
  background:#0088cc;
  color:#fff;
  font-weight:bold;
  text-decoration:none;
}
</style>
</head>

<body oncontextmenu="return false">

<div class="header">CriccVerse âœ˜ Sojeeb</div>

<div class="player-box">
  <video id="player" playsinline muted controls preload="auto"></video>
</div>

<div class="tg-box">
  <a href="https://t.me/CriccSojeeb" target="_blank">
    ðŸ”” Join Telegram for Live Match Links
  </a>
</div>

<script>
// ðŸ” Inspect protection
document.onkeydown = e=>{
  if(e.keyCode==123) return false;
  if(e.ctrlKey && e.shiftKey && e.keyCode==73) return false;
};

// ðŸ”” Telegram popup (1 hour)
(function(){
  const KEY="tg_popup_time";
  const HOUR=60*60*1000;
  const last=localStorage.getItem(KEY);
  const now=Date.now();
  if(!last || now-last>HOUR){
    setTimeout(()=>{
      localStorage.setItem(KEY,now);
      if(confirm("Join @CriccSojeeb for more live matches?")){
        location.href="https://t.me/CriccSojeeb";
      }
    },1500);
  }
})();

/* ========= CHANNEL LIST ========= */
const CHANNELS = {
  criclife:{name:"CricLife",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=303627"},
  cricbuzz:{name:"Cricbuzz",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=303629"},
  willow:{name:"Willow",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=13141"},
  fancode:{name:"Fancode",url:"https://bd-mc-fdlive.fancode.com/mumbai/138656_english_hls_ce83ff130b39556_1ta-di_h264/index.m3u8"},
  willow2:{name:"Willow 2",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=282231"},
  sky:{name:"Sky Sports",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=10527"},
  tnt:{name:"TNT Sports",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=77413"},
  fox:{name:"Fox Sports",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=197185"},
  star:{name:"Star Sports",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=276736"},
  star2:{name:"Star Sports 2",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=276732"},
  sony:{name:"Sony Sports",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=276737"},
  zee:{name:"Zee Cinema",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=276907"},
  geo:{name:"Geo Super",url:"https://allinonereborn.xyz/mix.m3u8/live4.php?id=49242"},
  fancodebd:{
    name:"Fancode BD",
    url:"https://bd-mc-fdlive.fancode.com/mumbai/138656_english_hls_ce83ff130b39556_1ta-di_h264/index.m3u8"
  }
};

/* ========= STREAM LOAD ========= */
const params=new URLSearchParams(location.search);
const ch=params.get("ch");
if(!ch || !CHANNELS[ch]){
  alert("âŒ Invalid / Private Stream");
  throw "";
}

const video=document.getElementById("player");
const src=CHANNELS[ch].url;

if(Hls.isSupported()){
  const hls=new Hls({
    lowLatencyMode:true,
    maxBufferLength:20
  });
  hls.loadSource(src);
  hls.attachMedia(video);

  hls.on(Hls.Events.MANIFEST_PARSED,()=>{
    const qualities=hls.levels.map(l=>l.height).filter(Boolean);
    new Plyr(video,{
      autoplay:true,
      muted:true,
      quality:{
        default:qualities[0],
        options:qualities,
        forced:true,
        onChange:q=>{
          hls.levels.forEach((l,i)=>{
            if(l.height===q) hls.currentLevel=i;
          });
        }
      }
    });
    video.play().catch(()=>{});
  });
}else{
  video.src=src;
  new Plyr(video);
}
</script>

</body>
</html>
